### 计算机图形学期末项目报告（附）

#### 项目介绍及实现结果

这是一个减压的小游戏。

游戏场景是一个个的小房间，墙壁上有小洞，摄像机以一定速度，从一边进入，一边离开。房间中有很多物体，摄像头不能碰到物体，碰到就算失败。点击鼠标能从摄像机发射子弹击碎物体，以顺利通过出入口。


#### 开发环境及使用到的第三方库

开发环境：webgl、convex(physics)、chrome

#### 实现功能列表

**基本功能**：

1. Camera Roaming

   游戏开始动画，照相机从俯瞰到洞口中心线

   摄像机从入口移动到出

2. Texture mapping

   地板添加了纹理

3. Simple lighting and shading(phong)

   场景中有一个上方的光源，物体也能够反射光线 

4. Shadow mapping

   场景中的所有物体都有阴影

5. Model import & Mesh viewing

   有洞的墙是在blender上用布尔运算的差值运算生成的，导出.obj和.mtl文件，再导入到

**额外功能**：

1. Gravity System and Collision Detection

   子弹和物体都有重力，子弹击中物体有碰撞检测，并触发击碎的函数，这个调用了ConvexObjectBreaker.js

#### 总结

创建一个Three.js项目，需要以下步骤：

1. **场景:** 所有需要渲染的对象都要放在这个场景里面
2. **照相机:** 这次项目用到的是透视相机，也可以用正交相机
3. **渲染器:** 使用WebGL显示所有的场景
4. **对象:** 这次项目中的墙面，地板，子弹等都是对象
5. **光源:** 光源有很多种，这次项目中用到了环境光和方向光源

创建一个Three.js对象，需要以下步骤：

1. 创建一个几何体
2. 创建材质
3. 将其网格化
4. 将网格添加到场景中

#### 遇到的问题和解决方法

怎么在墙上挖洞这个比较麻烦，一般长方体可以给出长宽高就能创建，而椎体可以通过创建一个长方体，再将其中一个面的四个角push到一个点。我采用的方法就是通过模型的导入，先在blender创建一个长方体，再创建一个圆柱体，通过波尔运算的插值，在长方体上挖出一个洞。可是最开始这个洞也有问题，导入到webgl中洞口平面不完整，有些面连在一起了。后来找到问题是初始的长方体网格太少了，片元太大，后来在挖洞的地方细分了多次就解决了这个问题。总结出来在建模的时候尽量不要使用太大网格，在需要做一些特殊处理，比如这种挖洞，要多划分网格。

#### 贡献
刘沅昊90%
